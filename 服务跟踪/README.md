
* [服务追踪](#服务追踪)



---

# 服务追踪

    除了需要对服务调⽤情况进⾏监控之外，你还需要记录服务调⽤经过的每⼀层链路，以便进⾏问题追踪和故障定位。服务追踪的⼯作原理⼤致如下：
    
    服务消费者发起调⽤前，会在本地按照⼀定的规则⽣成⼀个requestid，发起调⽤时，将requestid当作请求参数的⼀部分，传递给服务提供者。
    
    服务提供者接收到请求后，记录下这次请求的requestid，然后处理请求。如果服务提供者继续请求其他服务，会在本地再⽣成⼀个⾃⼰的requestid，然后把这
    两个requestid都当作请求参数继续往下传递。
    
    以此类推，通过这种层层往下传递的⽅式，⼀次请求，⽆论最后依赖多少次服务调⽤、经过多少服务节点，都可以通过最开始⽣成的requestid串联所有节点，从
    ⽽达到服务追踪的⽬的。
